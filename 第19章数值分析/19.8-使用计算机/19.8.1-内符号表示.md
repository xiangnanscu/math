# 19.8.1 内符号表示

计算机是用符号工作的机器. 解释和处理这些符号由软件确定和控制. 外符号、 字母、密码和特殊符号由内部的二进制代码按照存储单元序列的形式代表. 一个取值 0 和 1 的存储单元 (二进制数字) 是最小的可代表信息的单元. 八个存储单元构成下一个单位,即字节. 一个字节,可区分 ${2}^{8}$ 种存储单元组合,故可确定 256 个符号. 这样的指定称为代码. 有不同的代码, 最普及的是 ASCII (美国信息交换标准码).

## 19.8.1.1 数制

$1. 表示律

数在计算机里表示为一列连续字节. 内表示的基础是二进制, 这是类似于十进制的多元数制.

多元数制的表示律为

$$
a = \mathop{\sum }\limits_{{i =  - m}}^{n}{z}_{i}{B}^{i}\;\left( {m > 0, n \geq  0;m, n\text{ 为整数 }}\right) , \tag{19.259}
$$

其中 $B$ 为基数, ${z}_{i}\left( {0 \leq  {z}_{i} < B}\right)$ 为该数制的数码. $i \geq  0$ 的位置构成整数,而 $i < 0$ 的位置则为该数的小数部分.

数 139.8125 的十进制数表示,即 $B = {10}$ ,有形式

$$
{139.8125} = 1 \cdot  {10}^{2} + 3 \cdot  {10}^{1} + 9 \cdot  {10}^{0} + 8 \cdot  {10}^{-1} + 1 \cdot  {10}^{-2} + 2 \cdot  {10}^{-3} + 5 \cdot  {10}^{-4}.
$$

在表 19.3 中可见计算机里最常出现的数制.

表 19.3 数制

<table><tr><td>

数制

</td><td>

基数

</td><td>

数码

</td></tr><tr><td>

二进制

</td><td>

2

</td><td>

0,1

</td></tr><tr><td>

八进制

</td><td>

8

</td><td>

0,1,2,3,4,5,6,7

</td></tr><tr><td>

十六进制

</td><td>

16

</td><td>

0,1,2,3,4,5,6,7,8,9, A, B, C, D, E, F (字母 A~F 赋值 10~15)

</td></tr><tr><td>

十进制

</td><td>

10

</td><td>

0,1,2,3,4,5,6,7,8,9

</td></tr></table>

$1. 转换

从一个数制到另一个数制的转变称为转换. 若同时使用不同的数制, 为了避免混乱用不同的下标表示基数.

十进制数 139.8125 的不同表示: ${139.8125}_{10} = {10001011.1101}_{2} = {213.64}_{8} =$8B.D16.

(1)二进制数转换为八进制或十六进制数转换为八进制或转换为八进制或十六进制数是非常简单的. 从二进制小数点出发向左和向右三位或四位构成一组, 确定其值. 这些值就是八进制或十六进制的数字.

(2)十进制数转换为二进制、八进制或十六进制数转换为别的数制, 对整数部分和分数部分分别应用如下规则:

a) 整数部分 若 $G$ 为十进制整数,则对基数为 $B$ 的数制,构造律 (19.259) 为

$$
G = \mathop{\sum }\limits_{{i = 0}}^{n}{z}_{i}{B}^{i}\;\left( {n \geq  0}\right) . \tag{19.260}
$$

若 $G$ 除以 $B$ ,则得到整数部分和余数:

$$
\frac{G}{B} = \mathop{\sum }\limits_{{i = 1}}^{n}{z}_{i}{B}^{i - 1} + \frac{{z}_{0}}{B}. \tag{19.261}
$$

这里 ${z}_{0}$ 的值可为 $0,1,\cdots , B - 1$ ,即要求的数的最低位数字. 若重复此法求商,便可得进一步的数字.

b) 分数部分 若 $g$ 是真分数,则将其转换为以 $B$ 为基数的数的方法为

$$
{gB} = {z}_{-1} + \mathop{\sum }\limits_{{i = 2}}^{m}{z}_{-i}{B}^{-i + 1}, \tag{19.262}
$$

即下一位数字可由乘积 ${gB}$ 的整数部分得到. 用同样的方式可得数值 ${z}_{-2},{z}_{-3},\cdots$ . A: 将十进制数 139 转化为二进制数 I B: 将小数 0.8125 转化为二进制数 ${139} : 2 = {69}$ 余数 $1\;\left( {1 = {z}_{0}}\right)$

$$
{0.8125} \cdot  2 = {1.625}\;\left( {1 = {z}_{-1}}\right)
$$

${69} : 2 = {34}$ 余数 $1\;\left( {1 = {z}_{1}}\right)$

$$
{0.625} \cdot  2 = {1.25}\;\left( {1 = {z}_{-2}}\right)
$$

${34} : 2 = {17}$ 余数 $0\;\left( {0 = {z}_{2}}\right)$

$$
{0.25} \cdot  2 = {0.5}\;\left( {0 = {z}_{-3}}\right)
$$

${17} : 2 = 8$ 余数 1 :

$$
{0.5} \cdot  2 = {1.0}\;\left( {1 = {z}_{-4}}\right)
$$

$8 : 2 = 4$ 余数 0 : ${0.0} \cdot  2 = {0.0}$

$4 : 2 = 2$ 余数 0 : ${0.8125}_{10} = {0.1101}_{2}$ $2 : 2 = 1$ 余数 0 :

$1 : 2 = 0$ 余数 $1\;\left( {1 = {z}_{7}}\right)$

${139}_{10} = {10001011}_{2}$

(3)二进制、八进制或十六进制数转换为十进制数 二进制、八进制或十六进制数转换为十进制数的算法如下:

$$
a\mathop{\sum }\limits_{{i =  - m}}^{n}{z}_{i}{B}^{i}\;\left( {m > 0, n \geq  0;m, n\text{ 为整数 }}\right) , \tag{19.263}
$$

其中十进制小数点在 ${z}_{0}$ 的后边.

转换计算用霍纳法则 (参见第 1237 页 19.1.2.1).

$$
{11101}_{2} = 1 \cdot  {2}^{4} + 1 \cdot  {2}^{3} + 1 \cdot  {2}^{2} + 0 \cdot  {2}^{1} + 1 = {29}.
$$

![01937d01-b6f6-7881-8294-3a9c82211946_68_1032_2009_332_196_0.jpg](/images/01937d01-b6f6-7881-8294-3a9c82211946_68_1032_2009_332_196_0.jpg)

相应的霍纳格式见右边.

## 19.8.1.2 内部数字表示 INR

二进制数在计算机里用一个或多个字节表示. 区别两种表示形式, 即定点数和浮点数. 第一种情况, 小数点在一个固定的位置; 第二种情况, 它随着指数的改变而浮动.

$1. 定点数

带给定参数的定点数的范围为

$$
0 \leq  \left| a\right|  \leq  {2}^{t} - 1 \tag{19.264}
$$

定点数可用图 19.15 的形式表示.

![01937d01-b6f6-7881-8294-3a9c82211946_69_442_774_757_262_0.jpg](/images/01937d01-b6f6-7881-8294-3a9c82211946_69_442_774_757_262_0.jpg)

<center>图 19.15</center>

$1. 浮点数

基本上用两种不同的形式表示浮点数, 其内部完成可以详细改变.

(1)正规化半对数形式 在第一种形式中,数 $a$ 的指数 $E$ 和尾数 $M$ 的符号是分别存储的

$$
a =  \pm  M{B}^{\pm E}, \tag{19.265a}
$$

这里选取指数 $E$ 使得尾数

$$
1/B \leq  M < 1 \tag{19.265b}
$$

成立. 这称为正规化半对数形式 (图 19.16).

![01937d01-b6f6-7881-8294-3a9c82211946_69_454_1629_739_290_0.jpg](/images/01937d01-b6f6-7881-8294-3a9c82211946_69_454_1629_739_290_0.jpg)

<center>图 19.16</center>

带给定参数的浮点数的绝对值范围是

$$
{2}^{-{2}^{p}} \leq  \left| a\right|  \leq  \left( {1 - {2}^{-t}}\right)  \cdot  {2}^{\left( {2}^{p} - 1\right) }. \tag{19.266}
$$

(2) IEEE 标准 浮点数的第二个 (目前使用的) 形式相应于 1985 年通过的 IEEE 标准. 它处理计算机算术、舍入行为、算术运算、数的转换、比较运算和处理如上溢和下溢的特殊情况等要求.

浮点数表示见图 19.17.

![01937d01-b6f6-7881-8294-3a9c82211946_70_409_407_824_281_0.jpg](/images/01937d01-b6f6-7881-8294-3a9c82211946_70_409_407_824_281_0.jpg)

<center>图 19.17</center>

特征 $C$ 来自指数 $E$ 加上适当的常数 $K$ . 这样的选取使得特征只是正数,可表示的数为

$$
a = {\left( -1\right) }^{v} \cdot  {2}^{E} \cdot  1 \cdot  {b}_{1}{b}_{2}\cdots {b}_{t - 1}\text{,其中}E = C - K\text{.} \tag{19.267}
$$

因为保存 $C = 0, C = {255}$ ,这里 ${C}_{\min } = 1,{C}_{\max } = {256}$ .

该标准给出两个基本的表示形式 (单精度和双精度浮点数), 但也有其他的表示形式. 表 19.4 包含了基本形式的参数.

表 19.4 基本形式的参数

<table><tr><td>

参数

</td><td>

单精度

</td><td>

双精度

</td></tr><tr><td>

存储单元字长

</td><td>

32

</td><td>

64

</td></tr><tr><td>

最大指数 ${E}_{\max }$

</td><td>

+127

</td><td>

+1023

</td></tr><tr><td>

最小指数 ${E}_{\min }$

</td><td>

-126

</td><td>

-1022

</td></tr><tr><td>

常数 $K$

</td><td>

+127

</td><td>

+1023

</td></tr><tr><td>

指数位数

</td><td>

8

</td><td>

11

</td></tr><tr><td>

尾数位数

</td><td>

24

</td><td>

53

</td></tr></table>
